<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Thanh toÃ¡n an toÃ n</title>

<style>
body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI";
    background:#020617;
    color:#e5e7eb;
}
.container{
    max-width:420px;
    margin:auto;
    padding:20px;
}
.card{
    background:#0b1220;
    border-radius:18px;
    padding:18px;
    margin-bottom:15px;
    border:1px solid rgba(255,255,255,.08);
}
h2,h3{margin:0 0 10px}
input,button{
    width:100%;
    padding:14px;
    border-radius:14px;
    border:none;
    margin-top:10px;
    font-size:15px;
}
input{
    background:#020617;
    border:1px solid #1e293b;
    color:white;
}
button{
    background:#0a84ff;
    color:white;
    font-weight:600;
    cursor:pointer;
}
button:disabled{
    background:#334155;
    cursor:not-allowed;
}
.qr{
    width:100%;
    max-width:260px;
    display:block;
    margin:10px auto;
    border-radius:16px;
}
.preview{
    width:100%;
    border-radius:14px;
    margin-top:10px;
}
.status{font-size:14px;margin-top:10px}
.admin{
    display:none;
}
.order{
    border-left:3px solid #0a84ff;
    padding-left:10px;
    margin-bottom:10px;
}
.watermark{
    text-align:center;
    font-size:12px;
    opacity:.4;
    margin-top:20px;
}
</style>
</head>

<body>

<div class="container">

<!-- USER -->
<div id="userPage">
<div class="card">
<h2>ğŸ“· QuÃ©t QR HDBank</h2>
<img src="qr-hdbank.jpg" class="qr">
<p>
<b>LÃ‚M PHÃš QUÃ</b><br>
STK: 135704070101902<br>
HDBank
</p>
</div>

<div class="card">
<h3>ğŸ§¾ Ná»™i dung chuyá»ƒn khoáº£n</h3>
<input id="note" readonly>

<label>ğŸ“¸ Upload bill</label>
<input type="file" id="bill" accept="image/*">
<img id="preview" class="preview" style="display:none">

<button id="confirmBtn" disabled onclick="sendConfirm()">âœ… XÃ¡c nháº­n Ä‘Ã£ chuyá»ƒn</button>
<div class="status" id="status"></div>
</div>

<button onclick="openAdmin()" style="background:#1e293b">ğŸ‘¨â€ğŸ’¼ Admin</button>
</div>

<!-- ADMIN -->
<div id="adminPage" class="admin">
<div class="card">
<h2>ğŸ‘¨â€ğŸ’¼ ADMIN â€“ Xem bill</h2>
<button onclick="backUser()">â¬… Quay láº¡i</button>
</div>

<div id="orders"></div>
</div>

<div class="watermark">Â© 2026 BÃ‰ QUÃ Äá»’NG NAI</div>

</div>

<script>
/* ğŸ” CHá»NG DEVTOOLS */
document.addEventListener("contextmenu",e=>e.preventDefault());
document.onkeydown = function(e){
    if(e.keyCode==123 || (e.ctrlKey && e.shiftKey && [73,74,67].includes(e.keyCode))){
        return false;
    }
};

/* TELEGRAM CONFIG */
const BOT_TOKEN = "YOUR_BOT_TOKEN";
const CHAT_ID = "YOUR_CHAT_ID";

/* ORDER CODE */
const orderCode = "BDN" + Date.now().toString().slice(-6);
note.value = orderCode;

bill.onchange = ()=>{
    const f = bill.files[0];
    if(!f) return;
    preview.src = URL.createObjectURL(f);
    preview.style.display="block";
    confirmBtn.disabled = false;
};

function sendConfirm(){
    confirmBtn.disabled = true;
    status.innerHTML="â³ Äang gá»­i xÃ¡c nháº­n...";

    const reader = new FileReader();
    reader.onload = ()=>{
        const orders = JSON.parse(localStorage.getItem("orders")||"[]");
        const data = {
            code: orderCode,
            time: new Date().toLocaleString(),
            img: reader.result,
            status: "Chá» duyá»‡t"
        };
        orders.push(data);
        localStorage.setItem("orders",JSON.stringify(orders));

        sendTelegram(data);

        status.innerHTML="ğŸ•’ ÄÃ£ gá»­i â€“ chá» admin duyá»‡t";
    };
    reader.readAsDataURL(bill.files[0]);
}

function sendTelegram(o){
    const text = `ğŸ§¾ BILL Má»šI\nMÃ£: ${o.code}\nThá»i gian: ${o.time}`;
    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({chat_id:CHAT_ID,text})
    });
}

/* ADMIN */
function openAdmin(){
    userPage.style.display="none";
    adminPage.style.display="block";
    loadOrders();
}
function backUser(){
    adminPage.style.display="none";
    userPage.style.display="block";
}
function loadOrders(){
    orders.innerHTML="";
    const data = JSON.parse(localStorage.getItem("orders")||"[]");
    if(!data.length){
        orders.innerHTML="<p style='opacity:.6'>ChÆ°a cÃ³ bill</p>";
        return;
    }
    data.reverse().forEach(o=>{
        orders.innerHTML+=`
        <div class="card order">
            <b>MÃ£: ${o.code}</b><br>
            <small>${o.time}</small>
            <img src="${o.img}" class="preview">
            <div style="color:#facc15">â³ ${o.status}</div>
        </div>`;
    });
}
</script>

</body>
</html>
