<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bio System + Admin Panel | Qu√Ω Official</title>

<style>
:root{
    --main:#1db954;
    --glass:rgba(255,255,255,.08);
}
*{box-sizing:border-box}

body{
    margin:0;
    min-height:100vh;
    font-family:-apple-system,BlinkMacSystemFont,sans-serif;
    background:
        radial-gradient(circle at top,#1db95433,transparent 40%),
        linear-gradient(180deg,#050505,#0b0b0b);
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
}

.box{
    width:100%;
    max-width:420px;
    padding:22px;
    border-radius:22px;
    background:var(--glass);
    backdrop-filter:blur(18px);
    border:1px solid rgba(255,255,255,.15);
    box-shadow:0 20px 50px rgba(0,0,0,.6);
}

h2{text-align:center;margin-bottom:16px}

input, textarea{
    width:100%;
    padding:14px;
    margin-bottom:12px;
    border-radius:14px;
    border:none;
    background:#111;
    color:#fff;
}

button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:14px;
    font-weight:600;
    cursor:pointer;
    background:linear-gradient(135deg,#1db954,#19e68c);
    color:#000;
}

button.gray{background:#333;color:#fff;margin-top:8px}
button.danger{background:#ff3b3b;color:#fff;margin-top:8px}

.avatar{
    width:100px;
    height:100px;
    border-radius:50%;
    object-fit:cover;
    border:3px solid var(--main);
    margin:10px auto;
    display:block;
}

.name-wrap{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:6px;
}

.verify{
    width:18px;
    height:18px;
    background:#1d9bf0;
    color:#fff;
    border-radius:50%;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:12px;
}

.user-item{
    background:#141414;
    padding:12px;
    border-radius:14px;
    margin-bottom:10px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="box" id="authBox">
    <h2 id="title">ƒêƒÉng nh·∫≠p</h2>
    <input id="username" placeholder="T√™n ƒëƒÉng nh·∫≠p">
    <input id="password" type="password" placeholder="M·∫≠t kh·∫©u">
    <button onclick="handleAuth()">Ti·∫øp t·ª•c</button>
    <p style="text-align:center;color:#aaa;cursor:pointer" onclick="toggleMode()">
        Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω
    </p>
</div>

<!-- USER BIO -->
<div class="box" id="bioBox" style="display:none;text-align:center">
    <img id="avatarImg" class="avatar">
    <div class="name-wrap">
        <h2 id="bioName"></h2>
        <span id="verifyBadge" class="verify" style="display:none">‚úî</span>
    </div>
    <p id="bioDesc"></p>
    <button class="gray" onclick="logout()">ƒêƒÉng xu·∫•t</button>
</div>

<!-- ADMIN PANEL -->
<div class="box" id="adminBox" style="display:none">
    <h2>üëë Admin Panel</h2>
    <div id="userList"></div>
    <button class="danger" onclick="logout()">ƒêƒÉng xu·∫•t Admin</button>
</div>

<script>
// ===== ADMIN C·ªê ƒê·ªäNH =====
const ADMIN_USER = "admin";
const ADMIN_PASS = "123456";

// T·ª± t·∫°o admin n·∫øu ch∆∞a c√≥
if (!localStorage.getItem("pass_" + ADMIN_USER)) {
    localStorage.setItem("pass_" + ADMIN_USER, ADMIN_PASS);
    localStorage.setItem("bio_" + ADMIN_USER, JSON.stringify({
        name: "Qu√Ω Admin",
        desc: "üëë Administrator",
        avatar: "",
        verified: true
    }));
}

let isLogin = true;
let currentUser = "";

function toggleMode(){
    isLogin = !isLogin;
    title.innerText = isLogin ? "ƒêƒÉng nh·∫≠p" : "ƒêƒÉng k√Ω";
}

function handleAuth(){
    const u = username.value.trim();
    const p = password.value.trim();
    if(!u || !p){ alert("Nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin"); return; }

    if(!isLogin){
        if(localStorage.getItem("pass_"+u)){ alert("User ƒë√£ t·ªìn t·∫°i"); return; }
        if(u === ADMIN_USER){ alert("T√™n admin ƒë∆∞·ª£c b·∫£o v·ªá"); return; }

        localStorage.setItem("pass_"+u, p);
        localStorage.setItem("bio_"+u, JSON.stringify({
            name: u,
            desc: "üåê Nh√† s√°ng t·∫°o n·ªôi dung",
            avatar: "",
            verified: false
        }));
        alert("ƒêƒÉng k√Ω th√†nh c√¥ng");
        toggleMode();
        return;
    }

    if(localStorage.getItem("pass_"+u) !== p){
        alert("Sai t√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u");
        return;
    }

    currentUser = u;
    u === ADMIN_USER ? showAdmin() : showBio();
}

function showBio(){
    authBox.style.display="none";
    adminBox.style.display="none";
    bioBox.style.display="block";

    const bio = JSON.parse(localStorage.getItem("bio_"+currentUser));
    bioName.innerText = bio.name;
    bioDesc.innerText = bio.desc;
    avatarImg.src = bio.avatar || "https://i.imgur.com/8Km9tLL.jpg";
    verifyBadge.style.display = bio.verified ? "inline-flex" : "none";
}

function showAdmin(){
    authBox.style.display="none";
    bioBox.style.display="none";
    adminBox.style.display="block";
    renderUsers();
}

function renderUsers(){
    userList.innerHTML="";
    Object.keys(localStorage).forEach(k=>{
        if(k.startsWith("bio_")){
            const u = k.replace("bio_","");
            const bio = JSON.parse(localStorage.getItem(k));
            if(u === ADMIN_USER) return;

            userList.innerHTML += `
            <div class="user-item">
                <b>${u}</b> ${bio.verified?"‚úîÔ∏è":""}
                <button onclick="toggleVerify('${u}')">
                    ${bio.verified?"‚ùå B·ªè t√≠ch xanh":"‚úÖ B·∫≠t t√≠ch xanh"}
                </button>
                <button class="danger" onclick="deleteUser('${u}')">X√≥a user</button>
            </div>`;
        }
    });
}

function toggleVerify(u){
    const bio = JSON.parse(localStorage.getItem("bio_"+u));
    bio.verified = !bio.verified;
    localStorage.setItem("bio_"+u, JSON.stringify(bio));
    renderUsers();
}

function deleteUser(u){
    if(!confirm("X√≥a user "+u+" ?")) return;
    localStorage.removeItem("bio_"+u);
    localStorage.removeItem("pass_"+u);
    renderUsers();
}

function logout(){
    location.reload();
}
</script>

</body>
</html>