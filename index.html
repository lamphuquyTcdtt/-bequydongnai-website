<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login ‚Üí Bio Editor | Qu√Ω Official</title>

<style>
:root{
    --main:#1db954;
    --glass:rgba(255,255,255,.08);
}

*{box-sizing:border-box}

body{
    margin:0;
    min-height:100vh;
    font-family:-apple-system,BlinkMacSystemFont,sans-serif;
    background:
        radial-gradient(circle at top,#1db95433,transparent 40%),
        linear-gradient(180deg,#050505,#0b0b0b);
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
}

.box{
    width:100%;
    max-width:390px;
    padding:22px;
    border-radius:20px;
    background:var(--glass);
    backdrop-filter:blur(18px);
    border:1px solid rgba(255,255,255,.15);
    box-shadow:0 20px 50px rgba(0,0,0,.6);
}

h2{text-align:center;margin:0 0 16px}

input, textarea{
    width:100%;
    padding:14px;
    margin-bottom:12px;
    border-radius:14px;
    border:none;
    outline:none;
    background:#111;
    color:#fff;
}

button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:14px;
    font-weight:600;
    cursor:pointer;
    background:linear-gradient(135deg,#1db954,#19e68c);
    color:#000;
}

.bio{text-align:center}

.avatar{
    width:120px;
    height:120px;
    border-radius:50%;
    margin:10px auto;
    display:block;
    object-fit:cover;
    border:3px solid var(--main);
}

.links a{
    display:block;
    padding:12px;
    margin-bottom:10px;
    border-radius:14px;
    background:#141414;
    color:#fff;
    text-decoration:none;
}

.edit{background:#333;color:#fff;margin-top:10px}
.logout{background:#ff3b3b;color:#fff;margin-top:10px}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="box" id="authBox">
    <h2 id="title">ƒêƒÉng nh·∫≠p</h2>
    <input id="username" placeholder="T√™n ƒëƒÉng nh·∫≠p">
    <input id="password" type="password" placeholder="M·∫≠t kh·∫©u">
    <button onclick="handleAuth()">Ti·∫øp t·ª•c</button>
    <p style="text-align:center;color:#aaa;cursor:pointer" onclick="toggleMode()">
        Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω
    </p>
</div>

<!-- BIO -->
<div class="box bio" id="bioBox" style="display:none;">
    <img id="avatarImg" class="avatar">
    <h2 id="bioName"></h2>
    <p id="bioDesc"></p>

    <div class="links">
        <a id="link1" target="_blank"></a>
        <a id="link2" target="_blank"></a>
    </div>

    <button class="edit" onclick="openEdit()">‚úèÔ∏è Ch·ªânh s·ª≠a Bio</button>
    <button class="logout" onclick="logout()">ƒêƒÉng xu·∫•t</button>
</div>

<!-- EDIT BIO -->
<div class="box" id="editBox" style="display:none;">
    <h2>‚úèÔ∏è Ch·ªânh s·ª≠a Bio</h2>

    <input type="file" accept="image/*" onchange="uploadAvatar(this)">
    <input id="editName" placeholder="T√™n hi·ªÉn th·ªã">
    <textarea id="editDesc" rows="3" placeholder="M√¥ t·∫£"></textarea>
    <input id="editLink1" placeholder="Link 1">
    <input id="editLink2" placeholder="Link 2">

    <button onclick="saveBio()">üíæ L∆∞u Bio</button>
</div>

<script>
let isLogin=true, currentUser="";

function toggleMode(){
    isLogin=!isLogin;
    title.innerText=isLogin?"ƒêƒÉng nh·∫≠p":"ƒêƒÉng k√Ω";
}

function handleAuth(){
    const u=username.value,p=password.value;
    if(!u||!p){alert("Nh·∫≠p ƒë·∫ßy ƒë·ªß");return}

    if(isLogin){
        if(localStorage.getItem("pass_"+u)===p){
            localStorage.setItem("loggedIn",u);
            showBio();
        }else alert("Sai th√¥ng tin");
    }else{
        if(localStorage.getItem("pass_"+u)) alert("T√†i kho·∫£n t·ªìn t·∫°i");
        else{
            localStorage.setItem("pass_"+u,p);
            localStorage.setItem("bio_"+u,JSON.stringify({
                name:u,
                desc:"üåê Nh√† s√°ng t·∫°o n·ªôi dung",
                link1:"",
                link2:"",
                avatar:""
            }));
            alert("ƒêƒÉng k√Ω th√†nh c√¥ng");
            toggleMode();
        }
    }
}

function showBio(){
    currentUser=localStorage.getItem("loggedIn");
    if(!currentUser) return;

    authBox.style.display="none";
    editBox.style.display="none";
    bioBox.style.display="block";

    const bio=JSON.parse(localStorage.getItem("bio_"+currentUser));
    bioName.innerText=bio.name;
    bioDesc.innerText=bio.desc;
    avatarImg.src=bio.avatar || "https://i.imgur.com/8Km9tLL.jpg";

    link1.innerText=bio.link1;
    link1.href=bio.link1||"#";
    link2.innerText=bio.link2;
    link2.href=bio.link2||"#";
}

function openEdit(){
    bioBox.style.display="none";
    editBox.style.display="block";
    const bio=JSON.parse(localStorage.getItem("bio_"+currentUser));
    editName.value=bio.name;
    editDesc.value=bio.desc;
    editLink1.value=bio.link1;
    editLink2.value=bio.link2;
}

function uploadAvatar(input){
    const file=input.files[0];
    if(!file) return;
    const reader=new FileReader();
    reader.onload=function(){
        const bio=JSON.parse(localStorage.getItem("bio_"+currentUser));
        bio.avatar=reader.result;
        localStorage.setItem("bio_"+currentUser,JSON.stringify(bio));
    }
    reader.readAsDataURL(file);
}

function saveBio(){
    const bio={
        name:editName.value,
        desc:editDesc.value,
        link1:editLink1.value,
        link2:editLink2.value,
        avatar:JSON.parse(localStorage.getItem("bio_"+currentUser)).avatar
    };
    localStorage.setItem("bio_"+currentUser,JSON.stringify(bio));
    showBio();
}

function logout(){
    localStorage.removeItem("loggedIn");
    location.reload();
}

showBio();
</script>

</body>
</html>